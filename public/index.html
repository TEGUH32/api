<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>API Teguh | Auto-Detect REST API</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #7c3aed;
            --accent: #0ea5e9;
            --dark: #0f172a;
            --dark-2: #1e293b;
            --light: #f8fafc;
            --light-2: #e2e8f0;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            --surface: #ffffff;
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --radius-sm: 0.375rem;
            --radius: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        @media (min-width: 768px) {
            .container {
                padding: 0 2rem;
            }
        }

        /* Header */
        .navbar {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--light-2);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .logo-icon {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .nav-link {
            color: var(--dark-2);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.2s;
            padding: 0.5rem 0;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Hero Section */
        .hero {
            padding: 8rem 0 5rem;
            position: relative;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            top: -50%;
            right: -20%;
            width: 80%;
            height: 200%;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.1) 0%, rgba(124, 58, 237, 0.05) 50%, transparent 70%);
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--dark), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--dark-2);
            margin-top: 0.5rem;
        }

        /* Section */
        .section {
            padding: 5rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        .section-subtitle {
            text-align: center;
            color: var(--dark-2);
            font-size: 1.125rem;
            max-width: 800px;
            margin: 0 auto 3rem;
        }

        /* API Console */
        .console-container {
            background: var(--surface);
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--light-2);
            margin-bottom: 2rem;
        }

        .console-header {
            background: var(--dark-2);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .console-tabs {
            display: flex;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.25rem;
            border-radius: var(--radius);
        }

        .console-tab {
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .console-tab.active {
            background: white;
            color: var(--dark);
        }

        .console-body {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-2);
        }

        .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--light-2);
            border-radius: var(--radius);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            background: var(--light);
            transition: all 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Response Area */
        .response-container {
            margin-top: 2rem;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--light-2);
        }

        .response-header {
            background: var(--light);
            padding: 1rem;
            border-bottom: 1px solid var(--light-2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .response-status {
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-sm);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-2xx {
            background: #d1fae5;
            color: #065f46;
        }

        .status-4xx {
            background: #fef3c7;
            color: #92400e;
        }

        .status-5xx {
            background: #fee2e2;
            color: #991b1b;
        }

        .response-body {
            padding: 1.5rem;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            max-height: 400px;
            overflow: auto;
        }

        /* Endpoints */
        .endpoints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .endpoint-card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow);
            transition: all 0.3s;
            cursor: pointer;
        }

        .endpoint-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .method-badge {
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-sm);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            font-size: 0.75rem;
        }

        .method-get {
            background: #d1fae5;
            color: #065f46;
        }

        .method-post {
            background: #dbeafe;
            color: #1e40af;
        }

        .endpoint-path {
            font-family: 'JetBrains Mono', monospace;
            color: var(--dark);
            word-break: break-all;
            font-size: 0.95rem;
        }

        .endpoint-description {
            color: var(--dark-2);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        /* Category Badges */
        .category-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 2rem;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .category-ai {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }

        .category-social {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .category-system {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .category-tools {
            background: rgba(124, 58, 237, 0.1);
            color: var(--secondary);
        }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .metric-card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        .metric-progress {
            height: 6px;
            background: var(--light-2);
            border-radius: 3px;
            margin-top: 1rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: width 0.3s;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .feature-icon {
            width: 4rem;
            height: 4rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin: 0 auto 1.5rem;
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .footer-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: white;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--light-2);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Mobile */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero {
                padding: 6rem 0 3rem;
            }
            
            .section {
                padding: 3rem 0;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="#" class="logo">
                <div class="logo-icon">
                    <i class="fas fa-code"></i>
                </div>
                <span class="logo-text">API Teguh</span>
            </a>
            
            <div class="nav-links">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#endpoints" class="nav-link">Endpoints</a>
                <a href="#console" class="nav-link">API Console</a>
                <a href="#features" class="nav-link">Features</a>
                <a href="#dashboard" class="nav-link">Dashboard</a>
                <a href="#console" class="btn btn-primary">
                    <i class="fas fa-terminal"></i> Try API
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-bg"></div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fas fa-bolt"></i>
                    <span>Auto-Detect API Platform</span>
                </div>
                
                <h1 class="hero-title">Smart REST API<br>With Auto-Discovery</h1>
                
                <p style="color: var(--dark-2); font-size: 1.25rem; margin-bottom: 2rem; max-width: 800px;">
                    All API endpoints are automatically detected from your server. No manual updates needed.
                </p>
                
                <div class="flex gap-3" style="display: flex; gap: 1rem;">
                    <a href="#console" class="btn btn-primary">
                        <i class="fas fa-terminal"></i> Try API Console
                    </a>
                    <a href="#endpoints" class="btn" style="background: transparent; border: 2px solid var(--primary); color: var(--primary);">
                        <i class="fas fa-code"></i> View Auto-Detected Endpoints
                    </a>
                </div>
                
                <div class="hero-stats">
                    <div class="stat">
                        <div class="stat-number" id="uptime">00:00:00</div>
                        <div class="stat-label">Server Uptime</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="responseTime">0ms</div>
                        <div class="stat-label">Avg Response</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="requestCount">0</div>
                        <div class="stat-label">Today's Requests</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="endpointCount">0</div>
                        <div class="stat-label">Auto-Detected Endpoints</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section id="features" class="section">
        <div class="container">
            <h2 class="section-title">Smart Features</h2>
            <p class="section-subtitle">
                Advanced features powered by automatic detection technology
            </p>
            
            <div class="features-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3 style="margin-bottom: 1rem;">AI Auto-Detection</h3>
                    <p style="color: var(--dark-2);">Automatically detects all API endpoints from your server configuration</p>
                </div>
                
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 style="margin-bottom: 1rem;">Parameter Intelligence</h3>
                    <p style="color: var(--dark-2);">Smart parameter detection and auto-fill for all endpoints</p>
                </div>
                
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3 style="margin-bottom: 1rem;">Real-time Updates</h3>
                    <p style="color: var(--dark-2);">Live updates when new endpoints are added to the server</p>
                </div>
            </div>
        </div>
    </section>

    <!-- API Endpoints -->
    <section id="endpoints" class="section" style="background: var(--light);">
        <div class="container">
            <h2 class="section-title">Auto-Detected API Endpoints</h2>
            <p class="section-subtitle">
                All endpoints are automatically discovered from your server. No configuration needed.
            </p>
            
            <div class="endpoints-grid" id="endpointsGrid">
                <div class="text-center" style="grid-column: 1 / -1; padding: 3rem;">
                    <div class="loading" style="width: 40px; height: 40px; margin: 0 auto;"></div>
                    <p style="color: var(--dark-2); margin-top: 1rem;">Detecting API endpoints from server...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- API Console -->
    <section id="console" class="section">
        <div class="container">
            <h2 class="section-title">Smart API Console</h2>
            <p class="section-subtitle">
                Test any auto-detected endpoint with intelligent parameter handling
            </p>
            
            <div class="console-container fade-in">
                <div class="console-header">
                    <h4 style="color: white; margin: 0;">Smart API Tester</h4>
                    <div class="console-tabs">
                        <button class="console-tab active" data-tab="simple">Simple</button>
                        <button class="console-tab" data-tab="advanced">Advanced</button>
                    </div>
                </div>
                
                <div class="console-body">
                    <!-- Simple Tab -->
                    <div class="tab-content" id="simpleTab">
                        <div class="form-group">
                            <label class="form-label">Select Auto-Detected Endpoint</label>
                            <select class="form-control" id="endpointSelect">
                                <option value="">Detecting endpoints...</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="paramsContainer">
                            <!-- Parameters will be auto-generated here -->
                            <div style="color: var(--dark-2); text-align: center; padding: 1rem;">
                                Select an endpoint to see its parameters
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-primary" id="sendRequest">
                                <i class="fas fa-paper-plane"></i> Send Request
                            </button>
                            <button class="btn" style="background: transparent; border: 2px solid var(--light-2); color: var(--dark-2);" id="clearRequest">
                                <i class="fas fa-redo"></i> Clear
                            </button>
                        </div>
                    </div>
                    
                    <!-- Advanced Tab -->
                    <div class="tab-content" id="advancedTab" style="display: none;">
                        <div style="display: grid; grid-template-columns: 100px 1fr auto; gap: 1rem; align-items: center;">
                            <select class="form-control" id="methodSelect">
                                <option value="GET">GET</option>
                                <option value="POST">POST</option>
                            </select>
                            <input type="text" class="form-control" id="customEndpoint" placeholder="/api/endpoint">
                            <button class="btn btn-primary" id="sendCustomRequest">
                                <i class="fas fa-paper-plane"></i> Send
                            </button>
                        </div>
                        
                        <div class="form-group" style="margin-top: 1.5rem;">
                            <label class="form-label">Request Body (JSON)</label>
                            <textarea class="form-control" id="requestBody" rows="4" placeholder='{
  "key": "value"
}'></textarea>
                        </div>
                    </div>
                    
                    <!-- Response Area -->
                    <div class="response-container" style="margin-top: 1.5rem;">
                        <div class="response-header">
                            <span>Response</span>
                            <div class="response-status" id="responseStatus">Ready</div>
                        </div>
                        <pre class="response-body" id="responseBody">{
  "message": "Select an auto-detected endpoint and click 'Send Request'"
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard -->
    <section id="dashboard" class="section" style="background: var(--light);">
        <div class="container">
            <h2 class="section-title">Smart Dashboard</h2>
            <p class="section-subtitle">
                Real-time monitoring with auto-detected metrics
            </p>
            
            <div class="dashboard-grid">
                <div class="metric-card">
                    <h4>Server Status</h4>
                    <div class="metric-value" id="serverStatus">Online</div>
                    <div class="metric-progress">
                        <div class="progress-bar" id="healthBar" style="width: 100%"></div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <h4>Memory Usage</h4>
                    <div class="metric-value" id="memoryUsage">0%</div>
                    <div class="metric-progress">
                        <div class="progress-bar" id="memoryBar" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <h4>API Requests</h4>
                    <div class="metric-value" id="apiRequests">0</div>
                    <div class="metric-progress">
                        <div class="progress-bar" id="requestsBar" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="metric-card">
                    <h4>Detected Endpoints</h4>
                    <div class="metric-value" id="detectedEndpoints">0</div>
                    <div class="metric-progress">
                        <div class="progress-bar" id="endpointsBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <div style="background: var(--surface); border-radius: var(--radius-lg); padding: 1.5rem; margin-top: 2rem;">
                <h4>Auto-Detection Status</h4>
                <div id="detectionStatus" style="color: var(--dark-2); padding: 1rem 0; text-align: center;">
                    <div class="loading" style="width: 20px; height: 20px; margin: 0 auto;"></div>
                    <p style="margin-top: 0.5rem;">Detecting server configuration...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
                        <div class="logo-icon" style="width: 2rem; height: 2rem;">
                            <i class="fas fa-code"></i>
                        </div>
                        <span style="font-size: 1.25rem; font-weight: 700; color: white;">API Teguh</span>
                    </div>
                    <p style="color: rgba(255, 255, 255, 0.7);">
                        Smart REST API with auto-detection technology
                    </p>
                </div>
                
                <div>
                    <h4 class="footer-title">Quick Links</h4>
                    <div class="footer-links">
                        <a href="#home" class="footer-link">Home</a>
                        <a href="#endpoints" class="footer-link">Auto-Detected Endpoints</a>
                        <a href="#console" class="footer-link">Smart Console</a>
                        <a href="#dashboard" class="footer-link">Dashboard</a>
                    </div>
                </div>
                
                <div>
                    <h4 class="footer-title">API Categories</h4>
                    <div class="footer-links">
                        <a href="#endpoints" class="footer-link">AI Endpoints</a>
                        <a href="#endpoints" class="footer-link">Social Media</a>
                        <a href="#endpoints" class="footer-link">System Tools</a>
                        <a href="#endpoints" class="footer-link">Utilities</a>
                    </div>
                </div>
                
                <div>
                    <h4 class="footer-title">Server Info</h4>
                    <div style="color: rgba(255, 255, 255, 0.7);">
                        <div>Status: <span id="footerStatus" style="color: var(--success);">‚óè Online</span></div>
                        <div>Uptime: <span id="footerUptime">00:00:00</span></div>
                        <div>Endpoints: <span id="footerEndpoints">0</span></div>
                        <div>Requests: <span id="footerRequests">0</span></div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 API Teguh. Auto-Detection Technology Enabled.</p>
            </div>
        </div>
    </footer>

    <script>
        // Global State
        const state = {
            endpoints: [],
            categories: {},
            recentRequests: [],
            requestCount: 0,
            serverStartTime: Date.now(),
            detectionStatus: 'initializing',
            autoRefreshInterval: null
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initNavigation();
            initApiConsole();
            startAutoDetection();
            initDashboard();
            updateUptime();
        });

        // Navigation
        function initNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                });
            });

            // Tab switching
            document.querySelectorAll('.console-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.console-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
                    
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}Tab`).style.display = 'block';
                });
            });
        }

        // Auto-Detection System
        async function startAutoDetection() {
            await detectEndpoints();
            
            // Auto-refresh every 30 seconds
            state.autoRefreshInterval = setInterval(async () => {
                const oldCount = state.endpoints.length;
                await detectEndpoints();
                if (state.endpoints.length !== oldCount) {
                    showNotification('New endpoints detected!', 'success');
                }
            }, 30000);
        }

        async function detectEndpoints() {
            try {
                updateDetectionStatus('detecting', 'Detecting API endpoints...');
                
                // Try to get API info first
                const response = await fetch('/api/info');
                if (response.ok) {
                    const data = await response.json();
                    if (data.status && data.data?.endpoints) {
                        processApiInfo(data.data.endpoints);
                        updateDetectionStatus('success', `Detected ${state.endpoints.length} endpoints`);
                        return;
                    }
                }
                
                // Fallback: Try common endpoints
                await detectCommonEndpoints();
                
            } catch (error) {
                console.error('Detection failed:', error);
                updateDetectionStatus('error', 'Failed to detect endpoints. Using fallback.');
                await detectCommonEndpoints();
            }
        }

        function processApiInfo(endpointsData) {
            state.endpoints = [];
            state.categories = {
                ai: [],
                social: [],
                system: [],
                tools: []
            };

            Object.entries(endpointsData).forEach(([name, endpoint]) => {
                const endpointObj = {
                    name: name,
                    path: endpoint.path,
                    method: endpoint.method || 'GET',
                    description: endpoint.description || 'API endpoint',
                    parameters: endpoint.parameters || 'none',
                    category: determineCategory(endpoint.path, endpoint.description)
                };
                
                state.endpoints.push(endpointObj);
                state.categories[endpointObj.category].push(endpointObj);
            });

            updateUI();
        }

        async function detectCommonEndpoints() {
            const commonEndpoints = [
                { path: '/api/status', method: 'GET', description: 'Server status information', category: 'system' },
                { path: '/api/ping', method: 'GET', description: 'Ping test endpoint', category: 'system' },
                { path: '/api/deepseek', method: 'GET', description: 'DeepSeek AI chat', parameters: 'q (required)', category: 'ai' },
                { path: '/api/copilot', method: 'GET', description: 'Microsoft Copilot AI', parameters: 'text (required)', category: 'ai' },
                { path: '/api/gpt5', method: 'GET', description: 'GPT-5 AI model', parameters: 'text (required)', category: 'ai' },
                { path: '/api/instagram', method: 'GET', description: 'Instagram downloader', parameters: 'url (required)', category: 'social' },
                { path: '/api/social/media', method: 'GET', description: 'Social media tools', parameters: 'url (required)', category: 'social' },
                { path: '/api/ai/chat', method: 'GET', description: 'Multi-model AI chat', parameters: 'text (required), model (optional)', category: 'ai' },
                { path: '/api/health', method: 'GET', description: 'Health check endpoint', category: 'system' },
                { path: '/api/info', method: 'GET', description: 'API information', category: 'system' }
            ];

            // Test each endpoint
            state.endpoints = [];
            state.categories = { ai: [], social: [], system: [], tools: [] };

            for (const endpoint of commonEndpoints) {
                try {
                    const testResponse = await fetch(endpoint.path);
                    if (testResponse.ok || testResponse.status === 400) {
                        state.endpoints.push(endpoint);
                        state.categories[endpoint.category].push(endpoint);
                    }
                } catch (error) {
                    // Endpoint not available
                }
            }

            updateUI();
            updateDetectionStatus('success', `Detected ${state.endpoints.length} endpoints (fallback mode)`);
        }

        function determineCategory(path, description) {
            const lowerPath = path.toLowerCase();
            const lowerDesc = (description || '').toLowerCase();
            
            if (lowerPath.includes('ai') || lowerPath.includes('chat') || lowerDesc.includes('ai') || 
                lowerDesc.includes('gpt') || lowerDesc.includes('copilot') || lowerDesc.includes('deepseek')) {
                return 'ai';
            }
            
            if (lowerPath.includes('instagram') || lowerPath.includes('social') || 
                lowerPath.includes('download') || lowerDesc.includes('social') || lowerDesc.includes('media')) {
                return 'social';
            }
            
            if (lowerPath.includes('status') || lowerPath.includes('ping') || lowerPath.includes('health') || 
                lowerPath.includes('info') || lowerDesc.includes('server') || lowerDesc.includes('system')) {
                return 'system';
            }
            
            return 'tools';
        }

        function getCategoryName(category) {
            const names = {
                ai: 'AI Services',
                social: 'Social Media',
                system: 'System Tools',
                tools: 'Utilities'
            };
            return names[category] || 'Other';
        }

        function getCategoryColor(category) {
            const colors = {
                ai: 'category-ai',
                social: 'category-social',
                system: 'category-system',
                tools: 'category-tools'
            };
            return colors[category] || 'category-tools';
        }

        // UI Updates
        function updateUI() {
            renderEndpoints();
            populateEndpointSelect();
            updateStats();
        }

        function renderEndpoints() {
            const container = document.getElementById('endpointsGrid');
            
            if (state.endpoints.length === 0) {
                container.innerHTML = `
                    <div class="text-center" style="grid-column: 1 / -1; padding: 3rem;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--warning);"></i>
                        <p style="color: var(--dark-2); margin-top: 1rem;">No endpoints detected. Make sure your API server is running.</p>
                    </div>
                `;
                return;
            }

            // Render by categories
            let html = '';
            
            Object.entries(state.categories).forEach(([category, endpoints]) => {
                if (endpoints.length > 0) {
                    html += `
                        <div style="grid-column: 1 / -1; margin-bottom: 1rem;">
                            <h3 style="color: var(--dark); margin-bottom: 1rem;">${getCategoryName(category)}</h3>
                        </div>
                    `;
                    
                    endpoints.forEach(endpoint => {
                        html += `
                            <div class="endpoint-card fade-in" onclick="testEndpoint('${endpoint.path}')">
                                <div class="endpoint-header">
                                    <span class="method-badge ${endpoint.method.toLowerCase() === 'get' ? 'method-get' : 'method-post'}">
                                        ${endpoint.method}
                                    </span>
                                    <span class="endpoint-path">${endpoint.path}</span>
                                </div>
                                <p class="endpoint-description">${endpoint.description}</p>
                                <div>
                                    <span class="category-badge ${getCategoryColor(category)}">
                                        ${getCategoryName(category)}
                                    </span>
                                    ${endpoint.parameters !== 'none' ? `
                                        <span style="font-size: 0.875rem; color: var(--dark-2);">
                                            <i class="fas fa-code"></i> ${endpoint.parameters}
                                        </span>
                                    ` : ''}
                                </div>
                            </div>
                        `;
                    });
                }
            });

            container.innerHTML = html;
        }

        function populateEndpointSelect() {
            const select = document.getElementById('endpointSelect');
            select.innerHTML = `
                <option value="">Select an auto-detected endpoint...</option>
                ${state.endpoints.map(endpoint => `
                    <option value="${endpoint.path}" data-method="${endpoint.method}">
                        [${endpoint.method}] ${endpoint.path}
                    </option>
                `).join('')}
            `;
            
            select.addEventListener('change', (e) => {
                loadEndpointParams(e.target.value);
            });
        }

        function loadEndpointParams(endpointPath) {
            const container = document.getElementById('paramsContainer');
            const endpoint = state.endpoints.find(ep => ep.path === endpointPath);
            
            if (!endpoint || endpoint.parameters === 'none') {
                container.innerHTML = '<div style="color: var(--dark-2); text-align: center; padding: 1rem;">No parameters required for this endpoint.</div>';
                return;
            }

            // Parse parameters
            const params = [];
            const paramRegex = /(\w+)\s*\((\w+)\)/g;
            let match;
            
            while ((match = paramRegex.exec(endpoint.parameters)) !== null) {
                params.push({
                    name: match[1],
                    required: match[2] === 'required',
                    type: match[2]
                });
            }

            if (params.length === 0) {
                // Try to extract from path
                const url = new URL(endpointPath, window.location.origin);
                const urlParams = new URLSearchParams(url.search);
                
                urlParams.forEach((value, key) => {
                    params.push({
                        name: key,
                        required: true,
                        type: 'required',
                        example: value
                    });
                });
            }

            let html = '<div style="margin-bottom: 1rem;"><strong>Auto-Detected Parameters:</strong></div>';
            
            if (params.length > 0) {
                params.forEach(param => {
                    const example = param.example || (param.name === 'text' ? 'Hello' : 
                                        param.name === 'q' ? 'What is AI?' : 
                                        param.name === 'url' ? 'https://www.instagram.com/p/ABC123/' : 'value');
                    
                    html += `
                        <div style="margin-bottom: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <span style="font-weight: 500; color: var(--dark-2);">${param.name}</span>
                                ${param.required ? 
                                    '<span style="color: var(--error); font-size: 0.75rem;">(required)</span>' : 
                                    '<span style="color: var(--warning); font-size: 0.75rem;">(optional)</span>'}
                            </div>
                            <input type="text" class="form-control param-input" 
                                   data-param="${param.name}" 
                                   placeholder="${example}"
                                   ${param.required ? 'required' : ''}>
                        </div>
                    `;
                });
            } else {
                html += '<div style="color: var(--dark-2); text-align: center; padding: 1rem;">Unable to auto-detect parameters for this endpoint.</div>';
            }

            container.innerHTML = html;
        }

        // API Console
        function initApiConsole() {
            document.getElementById('sendRequest').addEventListener('click', sendRequest);
            document.getElementById('sendCustomRequest').addEventListener('click', sendCustomRequest);
            document.getElementById('clearRequest').addEventListener('click', clearRequest);
        }

        async function sendRequest() {
            const endpointSelect = document.getElementById('endpointSelect');
            const endpointPath = endpointSelect.value;
            
            if (!endpointPath) {
                showNotification('Please select an endpoint', 'error');
                return;
            }

            // Build URL with parameters
            let url = endpointPath;
            const paramInputs = document.querySelectorAll('.param-input');
            const params = new URLSearchParams();
            
            paramInputs.forEach(input => {
                if (input.value.trim()) {
                    params.append(input.dataset.param, input.value);
                }
            });

            if (params.toString()) {
                url += (url.includes('?') ? '&' : '?') + params.toString();
            }

            await makeApiRequest('GET', url);
        }

        async function sendCustomRequest() {
            const method = document.getElementById('methodSelect').value;
            let url = document.getElementById('customEndpoint').value;
            const body = document.getElementById('requestBody').value;
            
            if (!url) {
                showNotification('Please enter an endpoint URL', 'error');
                return;
            }

            if (!url.startsWith('/')) url = '/' + url;
            if (!url.startsWith('/api/')) url = '/api' + url;

            try {
                const parsedBody = body ? JSON.parse(body) : null;
                await makeApiRequest(method, url, parsedBody);
            } catch (error) {
                showNotification('Invalid JSON in request body', 'error');
            }
        }

        async function makeApiRequest(method, url, body = null) {
            const responseStatus = document.getElementById('responseStatus');
            const responseBody = document.getElementById('responseBody');
            
            // Show loading
            responseStatus.textContent = 'Loading...';
            responseStatus.className = 'response-status';
            responseBody.textContent = 'Sending request...';

            try {
                const startTime = Date.now();
                const options = {
                    method,
                    headers: { 'Content-Type': 'application/json' }
                };

                if (body && (method === 'POST' || method === 'PUT')) {
                    options.body = JSON.stringify(body);
                }

                const response = await fetch(url, options);
                const responseTime = Date.now() - startTime;

                // Update status
                responseStatus.textContent = `${response.status} (${responseTime}ms)`;
                responseStatus.className = `response-status status-${Math.floor(response.status / 100)}xx`;

                // Parse response
                const data = await response.json();
                responseBody.textContent = JSON.stringify(data, null, 2);

                // Update stats
                updateRequestStats(responseTime);

            } catch (error) {
                responseStatus.textContent = 'Error';
                responseStatus.className = 'response-status status-5xx';
                responseBody.textContent = `Network Error: ${error.message}`;
            }
        }

        function clearRequest() {
            document.getElementById('endpointSelect').value = '';
            document.getElementById('paramsContainer').innerHTML = '<div style="color: var(--dark-2); text-align: center; padding: 1rem;">Select an endpoint to see its parameters</div>';
            document.getElementById('customEndpoint').value = '';
            document.getElementById('requestBody').value = '';
            document.getElementById('responseStatus').textContent = 'Ready';
            document.getElementById('responseStatus').className = 'response-status';
            document.getElementById('responseBody').textContent = '{\n  "message": "Select an auto-detected endpoint and click \'Send Request\'"\n}';
        }

        // Dashboard
        function initDashboard() {
            updateServerMetrics();
            setInterval(updateServerMetrics, 10000);
        }

        async function updateServerMetrics() {
            try {
                const response = await fetch('/api/status');
                const data = await response.json();
                
                if (data.status) {
                    // Update memory usage
                    const memory = data.data.memory;
                    const usagePercent = memory.usage_percent || ((memory.used / memory.total) * 100).toFixed(1);
                    document.getElementById('memoryUsage').textContent = `${usagePercent}%`;
                    document.getElementById('memoryBar').style.width = `${Math.min(usagePercent, 100)}%`;
                    
                    // Update server status
                    document.getElementById('serverStatus').textContent = 'Online';
                    document.getElementById('serverStatus').style.color = 'var(--success)';
                }
            } catch (error) {
                document.getElementById('serverStatus').textContent = 'Offline';
                document.getElementById('serverStatus').style.color = 'var(--error)';
            }
        }

        function updateRequestStats(responseTime) {
            state.requestCount++;
            document.getElementById('requestCount').textContent = state.requestCount;
            document.getElementById('apiRequests').textContent = state.requestCount;
            document.getElementById('footerRequests').textContent = state.requestCount;
            
            // Update progress bars
            const requestsBar = document.getElementById('requestsBar');
            const barWidth = Math.min(state.requestCount / 10, 100);
            requestsBar.style.width = `${barWidth}%`;
            
            // Update response time
            document.getElementById('responseTime').textContent = `${responseTime}ms`;
        }

        function updateStats() {
            const endpointCount = state.endpoints.length;
            document.getElementById('endpointCount').textContent = endpointCount;
            document.getElementById('detectedEndpoints').textContent = endpointCount;
            document.getElementById('footerEndpoints').textContent = endpointCount;
            
            // Update endpoints progress bar
            const endpointsBar = document.getElementById('endpointsBar');
            const barWidth = Math.min(endpointCount / 20 * 100, 100);
            endpointsBar.style.width = `${barWidth}%`;
        }

        function updateDetectionStatus(status, message) {
            state.detectionStatus = status;
            const container = document.getElementById('detectionStatus');
            
            const icons = {
                detecting: '<div class="loading" style="width: 20px; height: 20px; margin: 0 auto;"></div>',
                success: '<i class="fas fa-check-circle" style="color: var(--success); font-size: 1.5rem;"></i>',
                error: '<i class="fas fa-exclamation-circle" style="color: var(--error); font-size: 1.5rem;"></i>'
            };
            
            container.innerHTML = `
                ${icons[status] || icons.detecting}
                <p style="margin-top: 0.5rem;">${message}</p>
                ${status === 'success' ? `<p style="font-size: 0.875rem; color: var(--dark-2); margin-top: 0.25rem;">Auto-refresh every 30 seconds</p>` : ''}
            `;
        }

        // Uptime Counter
        function updateUptime() {
            setInterval(() => {
                const uptime = Math.floor((Date.now() - state.serverStartTime) / 1000);
                const hours = Math.floor(uptime / 3600);
                const minutes = Math.floor((uptime % 3600) / 60);
                const seconds = Math.floor(uptime % 60);
                
                document.getElementById('uptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                document.getElementById('footerUptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Helper functions
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--error)' : 'var(--info)'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: var(--radius);
                box-shadow: var(--shadow-lg);
                z-index: 9999;
                animation: slideIn 0.3s ease-out;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Test endpoint from card click
        function testEndpoint(path) {
            // Switch to console tab
            document.querySelector('a[href="#console"]').click();
            
            // Fill the endpoint
            const select = document.getElementById('endpointSelect');
            select.value = path;
            loadEndpointParams(path);
            
            // Auto-send if it's a simple GET endpoint
            setTimeout(() => sendRequest(), 500);
        }

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Make functions available globally
        window.testEndpoint = testEndpoint;
        window.showNotification = showNotification;
    </script>
</body>
</html>
